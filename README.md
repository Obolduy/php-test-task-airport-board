# Тестовое задание

### ФИО
Сукманюк Владислав Дмитриевич.
### Время выполнения 
~8 часов.
### Описание 
В первую очередь, меня смутило, что в файле airport.json присутствуют часовые пояса, но они были проигнорированы в AirportRepository. Я добавил парсинг timeZone по аналогии с парсингом других полей. После того, как часовые пояса аэропортов стали отображаться, я начал вникать в суть проблемы.

Итак, задачей было разобраться и починить подсчет времени, которое самолет проводит в воздухе. Изначально скрипт суммировал время, пройденное между точкой отлёта и началом дня, со временем, которое прошло с начала дня до момента прилёта. Этого решения было бы достаточно если бы не 2 но:
1) На Земле существуют часовые пояса.
2) Сутки ограничены 24 часами.
Таким образом, если самолет вылетает из Петербурга в, скажем, Новосибирск в 22:00 по петербургскому времени, а прилетает в 6:00 (по Новосибирскому), то по логике программы он проведет в воздухе в лучшем случае 8 часов, хотя на самом деле время получится отрицательным.

Соответственно, нужно написать методы, которые будут учитывать как смену суток, так и часовые зоны. Изначально я написал логику, которая брала полученное время в полете (то, которое неправильное), смотрела, не превышает ли время количество минут в сутках (и если да, то отнимала сутки от этого числа) и прибавляла к этому числу разницу между таймзонами (разность между TZ прибытия и отправления). Очень грубо говоря, результат был получен, однако:
1)Гибкость кода сильно оставляла желать лучшего.
2)Так как в задании было указано, что нужно улучшить и разнообразить вывод, было необходимо добавить методов вывода часовых зон и разделить методы вывода локального времени.

Когда я приблизительно разобрался с тем, что нужно делать, я начал перелопачивать, что я натворил до этого. 

Первое нововведение заключалась в том, что функция, которая высчитывает разницу часовых поясов, ныне возвращает корректную разницу именно в часовых поясах. 

Короткий пример: если не вдаваться в подробности, может показаться что между Нанди и Лос-Анджелесом разница составляет 4 часа, но на самом деле, она равняется 20 часам, потому что эти города разделяет линия перемены дат. Из-за этого при определенных обстоятельствах перелет между ними может "занять", допустим, и 4, и 7, и 23, и 33 часа (смотря, как постараться с подсчетами:)).

Таким образом, мы получили возможность возвращать и нормально выводить разницу (с правильным арифметическим знаком перед ней) Time Zone. После этого стало намного проще выводить и высчитывать время пв двух видах: по часовым поясам места отправления и места отправления.

В конце нужно было оформить вывод, это было не особо сложно, потому что все основные задачи и разделения вывода информации на методы были сделаны ранее.

Подводя итоги, хочу сказать, что задание мне действительно понравилось. Оно не было слишком сложным, однако пришлось поломать голову над выводом формул подсчета времени (с учетом первой, которая работала неправильно, получилось 2). Также я освежил в памяти работу со временем и, особенно, в формате встроенного класса. Скорее всего, я что-то забыл упомянуть в этом письме, а еще где-то специально не вдавался в подробности, потому что старался комментировать какие-то не совсем очевидные решения (или просто решения) прямо в коде, чтобы человеку, работающему с ним можно было разобраться прямо в редакторе.

P.S.Я уточню это в сопроводительном письме, но оговорюсь и тут. Я чуть переделал колонки вывода, чтобы было более очевидно, какие даты (часы и минуты) к чему относятся, потому приложу 2 скриншота терминала: итоговый и предыдущий, с оригинальными полями.